VERSION=0.21.1
PACKAGE=cloog
SRC=${PACKAGE}-${VERSION}.tar.gz
URL=git://github.com/periscop/cloog@${PACKAGE}-${VERSION}
CATEGORY=devel
DEPENDS="devel/autoconf devel/automake libs/isl devel/libtool"


hook_git_clone_post() {
	cd "${SRCDIR}/${PACKAGE}-${VERSION}"
	git rm -rf isl
	git submodule init
	git submodule update
}

configure() {
	echo "Configuring $PACKAGE"
	cd "${SRCDIR}/${PACKAGE}-${VERSION}"
	autoreconf -fiv
	./configure --with-isl=system --with-osl=bundled
}

build() {
	echo "Building $PACKAGE"
	cd "${SRCDIR}/${PACKAGE}-${VERSION}"
	make -j ${NCPU}
}

install() {
	echo "Installing $PACKAGE to ${DESTDIR}"
	cd "${SRCDIR}/${PACKAGE}-${VERSION}"
	make install DESTDIR="${DESTDIR}"
}
